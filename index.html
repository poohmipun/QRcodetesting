<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QRcode-Testing</title>
    <link rel="icon" type="image/png" sizes="32x32" href="./image.jpg">
    <link rel="stylesheet" href="./styles.css">
</head>

<body>
    <h1 id="result">QRcode-Testing</h1>
    <img id="pictureUrl">
    <h1 id="userId"><b>userId:</b></h1>
    <p id="displayName"><b>displayName:</b></p>
    <p id="statusMessage"><b>statusMessage:</b></p>
    <p id="decodedIDToken"><b>email:</b></p>
    <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
    <script>
        async function getUserProfile() {
            const profile = await liff.getProfile()
            document.getElementById("pictureUrl").src = profile.pictureUrl
            document.getElementById('userId').append(profile.userId)
            document.getElementById('statusMessage').append(profile.statusMessage)
            document.getElementById('displayName').append(profile.displayName)
            document.getElementById('decodedIDToken').append(liff.getDecodedIDToken().email)
        }
        async function main() {
            await liff.init({ liffId: '1661306848-yPVLVojM', withLoginOnExternalBrowser: true });
            if (liff.isLoggedIn()) {
                getUserProfile()

            }
        }
        main()
    </script>
</body>

</html>